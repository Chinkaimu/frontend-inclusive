<!DOCTYPE html>
<html>
    <head>
        <title>Reactå°ä¹¦ä¾‹å­</title>
        <style>
            button {margin-left: 10px;}
        </style>
    </head>
    <body>
        <!-- It lacked facilities for handling data consistenty across shared views. We need events to catch the data, and DOM operations to write data. -->
        <div class="wrapper-1">
            åŸç”Ÿå®ç°å•ä¸ªç‚¹èµåŠŸèƒ½
            <button class="like-btn-1">
                <span class="like-text-1">ç‚¹èµ</span>
                <span>ğŸ‘</span>
            </button>
        </div>

        <div class="wrapper-2">å¦‚æœéœ€è¦å¾ˆå¤šç‚¹èµå‘¢ï¼Œç»“æ„è‡ªåŠ¨å¾ªç¯åˆ›å»ºå¤šä¸ª</div>
    
        <script>
            /**
             * 0. åŸç”Ÿå®ç°å•ä¸ªç‚¹èµåŠŸèƒ½
             */
            const button = document.querySelector('.like-btn-1');
            const buttonText = button.querySelector('.like-text-1');
            let isLiked = false;
            button.addEventListener('click', () => {
                isLiked = !isLiked;
                if(isLiked) {
                    buttonText.innerHTML = 'å–æ¶ˆ'
                } else {
                    buttonText.innerHTML = 'ç‚¹èµ';
                }
            }, false)

            /**
             * ã€è‡ªè¡Œè¡¥å……å†…å®¹ã€‘ä»è¿™é‡Œå»æ¨å¯¼å‡ºç”¨ç±»å®ç°çš„ä¼˜åŠ¿ï¼šå¯ä»¥å°†äº‹ä»¶å‡†ç¡®ç»‘å®šåˆ°æ¯ä¸ªèŠ‚ç‚¹ï¼Œä¸éœ€è¦ä¸Šå±‚ç®¡ç†ï¼Œé€»è¾‘å¤æ‚ã€‚
             * æ€æƒ³ï¼šåŒæ¨¡å—åŒ–è‡ªè¡Œé€šè¿‡importç®¡ç†ä¾èµ–æ€æƒ³ç›¸ä¼¼ï¼Œå„ä¸ªå°æ¨¡å—ç®¡ç†è‡ªå·±çš„è¡Œä¸ºäº‹ä»¶ï¼Œè¿™å…¶å®æ˜¯ç±»çš„å®šä¹‰ã€‚
             * 1. å¦‚æœéœ€è¦å¾ˆå¤šç‚¹èµå‘¢ï¼Œç»“æ„è‡ªåŠ¨å¤åˆ¶å¾ªç¯åˆ›å»ºå¤šä¸ª
             * 2. äº‹ä»¶å°±éœ€è¦ç»‘å®šåœ¨æœ€ä¸Šå±‚ï¼Œå¹¶ä¸”å¾—åˆ°ç‚¹å‡»çš„IDå•ä¸ªæ§åˆ¶ã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿˜éœ€è¦åˆ¤æ–­ç‚¹å‡»äº‹ä»¶è½åœ¨buttonè¿˜æ˜¯spanèŠ‚ç‚¹ï¼Œå› ä¸ºéœ€è¦é‡å†™çš„åªæœ‰spanã€‚
             */
            const buttonHtmlString = '<span class="like-text-2">ç‚¹èµ</span><span>ğŸ‘</span>';
            const wrapper2 = document.querySelector('.wrapper-2');
            const isLikedArray = [];
            for(let i = 0; i < 3; i++){
                let tempString = '<button class="like-btn-2" id=' + i + '>' +  buttonHtmlString + '</button>';
                isLikedArray[i] = false;
                wrapper2.innerHTML += tempString;
            }
            wrapper2.addEventListener('click', (e) => {
                //TODO: e.targetå•ç‹¬å–å‡ºæ¥å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ
                if(e.target.className === 'like-btn-2') {
                    spanNode = e.target.children;
                    id = +e.target.id;

                    isLikedArray[id] = !isLikedArray[id];
                    if(isLikedArray[e.target.id]) {
                        e.target.firstChild.innerHTML = 'å–æ¶ˆ';
                    } else {
                        e.target.firstChild.innerHTML = 'ç‚¹èµ';
                    }
                } else {
                    let id = +e.target.parentNode.id;
                    isLikedArray[id] = !isLikedArray[id];
                    if(isLikedArray[id]) {
                        e.target.innerHTML = 'å–æ¶ˆ';
                    } else {
                        e.target.innerHTML = 'ç‚¹èµ';
                    }
                }
            })

        </script>
    </body>
</html>